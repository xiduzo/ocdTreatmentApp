<ion-header>
  <ion-toolbar color="secondary">
    <ion-title>
      {{ 'MY_FEAR_LADDER' | translate }}
    </ion-title>
    <ion-buttons end>
      <button ion-button icon-only color="light" (click)="close()">
        <ion-icon name="close"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <section *ngIf="!fearLadder?.length" class="c-emptystate">
    <img src="assets/imgs/monsters/all.png" alt="" />
    <h1>
      {{ 'OOPS' | translate }}
    </h1>
    <p>
      {{ 'WARNING_NO_FEARS' | translate }}
    </p>
  </section>
  <ion-item-group
    *ngFor="let level of fearLadder | groupByImpure: 'fearRating' | pairs"
  >
    <ion-item-divider color="light">
      {{ 'LEVEL' | translate }} {{ level[0] }}
    </ion-item-divider>
    <button ion-item *ngFor="let step of level[1]" (click)="editStep(step)">
      <h2 text-wrap>
        {{ step.fear?.situation }}
      </h2>
      <p text-wrap>{{ 'WITHOUT' | translate }}: {{ step.fear?.without }}</p>
    </button>
  </ion-item-group>
</ion-content>

<ion-footer>
  <button ion-button large block (click)="addStep()">
    {{ 'BUTTON_ADD_FEAR' | translate }}
  </button>
</ion-footer>

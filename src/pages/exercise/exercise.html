<ion-content>
  <section *ngIf="(fearLadder$ | async).loading">
    loading
  </section>
  <section *ngIf="!(fearLadder$ | async).loading">
    <section *ngIf="!(fearLadder$ | async).steps.length">
      <img src="assets/imgs/monsters/all.png" alt="" />
      <h1>
        {{ 'OOPS' | translate }}
      </h1>
      <p>
        {{ 'WARNING_BEFORE_YOU_CAN_START' | translate }}
      </p>
      <button color="secondary" ion-button large block (click)="addFearsAndCompulsions()">
        {{ 'MY_FEAR_LADDER' | translate }}
      </button>
    </section>
    <ion-list *ngIf="(fearLadder$ | async).steps.length" no-lines class="exercise__levels">
      <div class="level" *ngFor="let level of (fearLadder$ | async).steps | groupByImpure: 'fearRating' | pairs">
        <ion-item>
          <div class="c-level__monster" (click)="goToLevel(level[1])">
            <div class="monster__icon">
              <div class="monster" [style.backgroundImage]="'url(assets/imgs/monsters/monster-0' + level[0] + '.svg)'">
              </div>
            </div>
            <round-progress [current]="getCompletion(level[1])" [max]="100" [radius]="60" [stroke]="5" [duration]="1">
            </round-progress>
            <strong class="level__number">
              {{ 'LEVEL' | translate }} {{ level[0] }}
            </strong>
          </div>
        </ion-item>
      </div>
    </ion-list>
  </section>
</ion-content>
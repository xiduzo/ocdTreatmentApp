<ion-header>
  <ion-navbar color="secondary">
    <ion-title>
      {{ headerText | translate }}
    </ion-title>
    <ion-buttons end>
      <button ion-button icon-only color="light" (click)="close()">
        <ion-icon name="close"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-item-group>
    <ion-item-divider color="light">
      {{ 'EXERCISE' | translate }}
    </ion-item-divider>
    <ion-item>
      <ion-label floating>
        {{ 'FEARLADDER_STEP_I_WANT_TO' | translate }}
      </ion-label>
      <ion-input type="text" [(ngModel)]="step.fear.situation"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label floating>
        {{ 'WITHOUT' | translate }}
      </ion-label>
      <ion-input type="text" [(ngModel)]="step.fear.without"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label floating>
        {{ 'FEARLADDER_STEP_FEAR_RATING' | translate }} ({{step.fearRating}})
      </ion-label>
      <ion-range [(ngModel)]="step.fearRating" min="1" max="8" pin="true" snaps="true">
        <ion-label range-left>1</ion-label>
        <ion-label range-right>8</ion-label>
      </ion-range>
    </ion-item>
  </ion-item-group>
  <ion-item-group>
    <ion-item-divider color="light">
      {{ 'TRIGGERS' | translate }}
    </ion-item-divider>
    <ion-item *ngFor="let trigger of step.triggers" text-wrap>
      <ion-label>
        {{ 'FEARLADDER_STEP_THIS_TRIGGERS' | translate }} {{ trigger.verbose | translate }}
      </ion-label>
      <ion-checkbox [(ngModel)]="trigger.enabled"></ion-checkbox>
    </ion-item>
  </ion-item-group>
</ion-content>

<ion-footer>
  <button *ngIf="editStep" color="danger" ion-button large block (click)="removeFear()">
    {{ 'REMOVE' | translate }}
  </button>
  <button ion-button large block (click)="addFear()" [disabled]="!step.fear.situation || !step.fear.without">
    {{ buttonText | translate }}
  </button>
</ion-footer>